.. File Output.rst

.. include:: global.rst

.. _output:

Output
------

Catalog
~~~~~~~

|SourceXtractor++| writes out a catalog file with a filename set by the ``--output-catalog-filename`` option. Note that if no ``output-catalog-filename`` is set in the command line nor in the configuration file, then the catalog is printed in ASCII `to the standard output <https://en.wikipedia.org/wiki/Standard_streams#Standard_output_(stdout)>`_.

The ``--output-catalog-format`` option sets the format of the output catalog. Currently available options are `FITS` for a |FITS| binary table, and `ASCII` for an ASCII table. 

Output properties
~~~~~~~~~~~~~~~~~

|SourceXtractor++| computes only what is required to produce the output catalog and diagnostics.
While the original |SExtractor| would automatically trigger the measurement processes depending on the columns the user would like to be included in the catalog, |SourceXtractor++| adopts a more coarse-grained and modular approach through the concept of *properties*.

Properties regroup several scalar or vector values obtained in the context of a specific image measurement or processing.
Properties are requested by giving as argument to the ``--output-properties`` a coma-separated list of keywords.
For example, requesting the :param:`PixelCentroid` property (the default) adds both the ``pixel_centroid_x`` and ``pixel_centroid_y`` columns to the output catalog.
Note that additional, custom columns may be inserted in the catalog through calls to :class:`~config.output.add_output_column` in the :ref:`measurement script <chap_configuration_script>`.

The ``--list-output-properties`` option prints out the complete list of available properties known to |SourceXtractor++|.
The lists of catalog columns for the requested properties and for all properties are displayed using ``--property-column-mapping`` and ``--property-column-mapping--all`` options, respectively.

The complete list of columns and properties currently known to |SourceXtractor++| is given below.

Diagnostic files
~~~~~~~~~~~~~~~~

Additional files can be generated by |SourceXtractor++|, providing diagnostics about the source extraction and measurement processes. Currently only *check-images*, which are |FITS| images containing maps of various types, are produced. Each of the following options, followed by a filename, may be set to trigger the production of a check-image:

* ``check-image-model-fitting``: noiseless image of the best-fitting source models
* ``check-image-residual``: model-fitting residuals
* ``check-image-background``: bicubic-spline-interpolated background model
* ``check-image-variance``: variance map
* ``check-image-segmentation``: map of detected objects after the segmentation stage 
* ``check-image-partition``: map of detected objects after the partition stage 
* ``check-image-grouping``: map of detected objects after the grouping stage
* ``check-image-filtered``: filtered copy of the detection image
* ``check-image-thresholded``: filtered, thresholded copy of the detection image
* ``check-image-auto-aperture``: map of automatic photometric apertures
* ``check-image aperture``: map of disk aperturess
* ``check-image-moffat``: noiseless image of the best-fitting extended Moffat models
* ``check-image-psf``: PSF map


